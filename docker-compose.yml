version: '3.3'

services:

  church_sion_financial:
    container_name: church_sion_financial
    image: church_sion_financial
    restart: always
    build: .
    command: npm run dev
    environment:
      NODE_ENV: local
      #GOOGLE_APPLICATION_CREDENTIALS: /service-account.json

      MONGO_PASS: Ljm5aB8h7vOTeDeA
      MONGO_USER: user_sion
      MONGO_DB: dbsionfinancial
      MONGO_SERVER: freesionfinancial.cmomlts.mongodb.net

      JWT_SECRET: $2a$10$N7trhjhBwEYj9l7VGDT9ee7rWG3rfWXX/9bBfeqh.PCb3rNjYIdla

      TOPIC_ASSIGN_CHURCH: assign_church
      TOPIC_CREATE_USRE_APP: create_user_app
      TOPIC_CHURCH_CREATED: church_created


    volumes:
      - ./:/app
      #- ${GOOGLE_APPLICATION_CREDENTIALS_JASPESOFT}:/service-account.json
      - /home/node/app/node_modules
    ports:
      - "5200:8080"
    networks:
      - church_sion

networks:
  church_sion:
